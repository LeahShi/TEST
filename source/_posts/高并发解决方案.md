---
title: 高并发解决方案
date: 2018-04-11 20:55:27
tags: [Java]
categories: work
---


昨天今天开始在面试过程中，经常会被问到一些底层的东西，比如jvm调优、数据库存储引擎、反射机制啊、高并发是如何解决的啊...武汉这边底层好像挖的很深，对于平常疲于业务代码的程序员来说，可能没有涉及到。面试面航母，工作拧螺丝，突然想起某人的吐槽，O(∩_∩)O  尽管这样，还是自己知识面的缺失，对于高并发，确实是实际工作中头疼的问题，借以此篇，学习总结下吧。

<!-- more-->

在互联网项目中，高并发，高可用，分布式和集群，都是很常见的名词，因为一旦用户量上来了，这些都是需要考虑到的。网上很多资料多余高并发这块，有句话我觉得总结的很精辟，“尽量把用户请求往前面推”，我理解的是，能让用户少和数据库交互，就减少数据库压力。所以在这中间我们需要可以引入很多的技术。

比如**缓存**、如果页面中需要展示的资源很多，并且每个用户都看到都是相同的，经常被请求的资源，我们就可以引进缓存技术，在我们项目中，就用到了redis，因为redis是单线程的，尽管这样，它能承受的并发量也有50万，既可以保证线程安全，也可以将数据放在缓存数据库中，减少关系型数据库的访问压力。

比如**页面静态化**，对于一些可能不会经常改动的数据，比如详情页等，这也是需要发送大量的请求，但是每位用户访问的资源，渲染的页面都是相同的，使用页面静态化是种不错的选择，毕竟静态的页面响应的速度也会快很多，并且有利于搜索引擎，SEO优化。同时也隐藏了服务端，防止黑客攻击等
产生的静态页面，我们还可以搭建nginx集群，做负载均衡，分担压力。

比如**引入中间件**，假设服务层的某个方法处理的业务过多，并且经常会被调用的，会有很高的阻塞风险，为了应用解耦，可以映入消息中间件技术，只需要向消息队列中生产一条消息，在消息调用方监听到消息后执行对应的操作即可。而我们的主业务又不会收到影响。

比如**采用分布式和集群**，分布式和集群两者区别在于，分布式是逻辑上是统一的，但是做的事情是不一样的，集群是做的事情是完全一样的，只用于分担压力而已。一台服务器扛不住，就多加几台，从硬件上解决，对于高并发，是很好的解决方案，当然也要在公司支出允许条件下

还有很多，比如图片较多是，一般采取云存储等等